# データベースとは

- 大量のデータを効率よくアクセスできる仕組み
  - 効率よくアクセスするためのものが DBMS

## データベースの種類

- リレーショナル
- 階層型
- NoSQL
- ネットワーク
- 時系列データベース
- キーバリュー型
  - シンプルな辞書型で、パフォーマンスが良いので Google の検索などに使われている

## データベース設計

- データの持ち方の設計
- システムの拡張性やパフォーマンスに大きな影響を与える

### 3 層スキーマ

- 外部スキーマ
  - ユーザーから見た DB、ビュー
- 概念スキーマ
  - 開発者から見た DB、テーブル
- 内部スキーマ
  - DBMS からみた DB、データの物理的配置

- 外部スキーマと内部スキーマが独立していて、概念スキーマだけがそれぞれを取り合っていると考える

- 論理設計とは概念スキーマの設計
- 物理設計とは内部スキーマの設計
  - DDL による実装ストレージの構成などの設計

- なぜ概念スキーマが必要?
  - データの独立性を確保する
    - 外部スキーマを変更しても内部スキーマを変更する必要がない状態(論理的データ独立性)
      - ビューなど?
    - 内部スキーマを変更しても外部スキーマを変更する必要がない状態(物理的データ独立性)
      - パーティションなど?
  - 内部スキーマを隠蔽する

- つまり、概念スキーマを変更すると、両者に変更が出るので、ここの設計は非常に重要

### 設計の手順

1. エンティティの抽出
  - どんなテーブルが必要か
2. エンティティの定義
  - どんなカラムか
3. 正規化
  - 冗長性をなくす
4. ER図の作成
  - 分割されたエンティティの関係性の可視化

#### エンティティの抽出・定義

- どんなデータを管理するか洗い出す
- 実現したいシステムが果たす機能の一連の流れを踏まえて抽出する
- どんなシステムを作るかにかなり依存するので、要件定義と重なるプロセス
- また、データがどのような属性を持つか決める
  - カラム、キー、制約